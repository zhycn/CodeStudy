---
title: Java 运算符详解
description: 详细介绍 Java 中的运算符，包括算术运算符、关系运算符、逻辑运算符、位运算符、赋值运算符、条件运算符和其他运算符。
author: zhycn
---

# Java 运算符详解

## 1. 概述

运算符是编程语言中用于执行各种计算和操作的符号或关键字。在 Java 中，运算符可以对变量和常量进行数值计算、条件判断、逻辑运算和位操作等功能。理解和掌握 Java 中的运算符对于编写高效、准确的代码至关重要。

运算符把语句连接成更复杂的复杂语句。通过运算符，我们可以对变量和数据进行计算、比较和逻辑判断等操作。选择合适的运算符可以简化代码，提高运行效率，并使代码更加清晰易懂。

## 2. 运算符分类

Java 中的运算符可以按照不同方式进行分类。

### 2.1 按操作数个数分类

根据运算符所需操作数的数量，Java 运算符可以分为以下几类：

- **单目运算符**：只需一个操作数参与运算，如 `++`、`--`、`!` 等
- **双目运算符**：需要两个操作数参与运算，如 `+`、`-`、`*`、`/`、`>`、`<` 等
- **三目运算符**：需要三个操作数参与运算，只有条件运算符 `?:` 是三目运算符

### 2.2 按功能分类

按照运算符功能来分，Java 运算符可以分为以下7大类：

1. **算术运算符**：用于数值计算
2. **关系运算符**：比较数值或对象
3. **逻辑运算符**：布尔逻辑操作
4. **位运算符**：直接操作二进制位
5. **赋值运算符**：赋值或复合赋值
6. **条件运算符**：简化条件判断
7. **其他运算符**：如 instanceof（类型检查）

## 3. 算术运算符

算术运算符用于执行基本的数学运算。

### 3.1 基本算术运算符

| 运算符 | 作用         | 示例           | 结果 |
| :----- | :----------- | :------------- | :--- |
| `+`    | 加法         | `3 + 2`        | `5`  |
| `-`    | 减法         | `5 - 3`        | `2`  |
| `*`    | 乘法         | `3 * 4`        | `12` |
| `/`    | 除法         | `10 / 3`       | `3`  |
| `%`    | 取模（取余） | `10 % 3`       | `1`  |
| `++`   | 自增         | `int a=5; a++` | `6`  |
| `--`   | 自减         | `int b=5; --b` | `4`  |

### 3.2 整数除法特性

两个整数相除结果为整数（直接舍去小数部分）。例如：

```java
int a = 5 / 2; // 结果：2（舍去小数）
double b = 5.0 / 2; // 结果：2.5（浮点运算）
double c = (double) 5 / 2; // 结果：2.5（强制类型转换）
```

如果需要得到精确的浮点数结果，至少需要一个操作数为浮点数。

### 3.3 自增和自减运算符

自增和自减运算符有前缀和后缀两种形式，它们的含义不同：

- `i++`：先取值再自增（返回原值）
- `++i`：先自增再取值（返回新值）

```java
int i = 5;
int x = i++; // x=5（先赋值再自增）
int y = ++i; // y=7（先自增再赋值）
```

### 3.4 字符运算

char 类型参与运算时会被转换为对应的 ASCII 码值：

```java
char c = 'A';
int code = c + 10; // 结果：75（ASCII码计算）
char newC = (char) code; // 强制转换后：'K'
```

## 4. 关系运算符

关系运算符用于比较两个值的大小或相等关系，返回布尔值（true 或 false）。

| 运算符 | 描述     | 示例     | 结果    |
| :----- | :------- | :------- | :------ |
| `==`   | 等于     | `5 == 5` | `true`  |
| `!=`   | 不等于   | `5 != 3` | `true`  |
| `>`    | 大于     | `10 > 5` | `true`  |
| `<`    | 小于     | `3 < 2`  | `false` |
| `>=`   | 大于等于 | `5 >= 5` | `true`  |
| `<=`   | 小于等于 | `4 <= 5` | `true`  |

### 4.1 对象比较

对于对象类型，`==` 比较的是对象引用（内存地址），而不是对象内容。要比较对象内容，应使用`equals()`方法：

```java
String s1 = new String("Hello");
String s2 = new String("Hello");
System.out.println(s1 == s2); // false（比较对象地址）
System.out.println(s1.equals(s2)); // true（比较内容）
```

### 4.2 浮点数比较

由于浮点数的精度问题，应避免直接使用`==`比较浮点数相等，建议使用差值阈值方法：

```java
double a = 1.0 - 0.9;
double b = 0.1;
// 不推荐的比较方式
System.out.println(a == b); // false
// 推荐的比较方式
System.out.println(Math.abs(a - b) < 0.00001); // true
```

## 5. 逻辑运算符

逻辑运算符用于操作布尔表达式，返回布尔值。

### 5.1 基本逻辑运算符

| 运算符 | 描述   | 示例            | 结果    |
| :----- | :----- | :-------------- | :------ |
| `&`    | 逻辑与 | `true & false`  | `false` |
| `\|`   | 逻辑或 | `true \| false` | `true`  |
| `!`    | 逻辑非 | `!true`         | `false` |
| `^`    | 异或   | `true ^ false`  | `true`  |

### 5.2 短路逻辑运算符

Java提供了短路版本的逻辑运算符，具有短路求值特性：

| 运算符 | 描述   | 特点                          |
| :----- | :----- | :---------------------------- |
| `&&`   | 短路与 | 左边为 `false` 时，右边不执行 |
| `\|\|` | 短路或 | 左边为 `true` 时，右边不执行  |

短路特性示例：

```java
int x = 5;
if (x > 10 && x++ < 20) {
    // 左侧为false，右侧x++不执行，x仍为5
}
System.out.println(x); // 输出5
```

### 5.3 短路与非短路运算符的区别

- `&`和`|`：无论左边结果如何，两边表达式都会执行
- `&&`和`||`：当左边能确定结果时，右边不会执行（短路求值）

## 6. 位运算符

位运算符直接对整数类型的二进制位进行操作。

### 6.1 基本位运算符

| 运算符 | 描述     | 示例     | 结果                              |
| :----- | :------- | :------- | :-------------------------------- |
| `&`    | 按位与   | `5 & 3`  | `1`（二进制：`101 & 011 = 001`）  |
| `\|`   | 按位或   | `5 \| 3` | `7`（二进制：`101 \| 011 = 111`） |
| `^`    | 按位异或 | `5 ^ 3`  | `6`（二进制：`101 ^ 011 = 110`）  |
| `~`    | 按位取反 | `~5`     | `-6`（补码操作）                  |

### 6.2 移位运算符

| 运算符 | 描述       | 示例       | 结果                         |
| :----- | :--------- | :--------- | :--------------------------- |
| `<<`   | 左移       | `5 << 1`   | `10`（`101`左移1位为`1010`） |
| `>>`   | 带符号右移 | `-5 >> 1`  | `-3`（保留符号位）           |
| `>>>`  | 无符号右移 | `-5 >>> 1` | `2147483645`（高位补0）      |

移位运算符的特点：

- 左移 N 位相当于乘以 2^N
- 右移 N 位相当于除以 2^N
- 由于计算机移位效率高于计算乘除，当乘除正好是 2 的 N 次方时，可以用移位运算代替

## 7. 赋值运算符

赋值运算符用于给变量赋值。

### 7.1 基本赋值运算符

基本赋值运算符是`=`，格式为：`变量名 = 表达式;`

赋值运算符的次序是从右向左的，即先计算表达式的值，再将表达式的赋值予变量。

### 7.2 复合赋值运算符

Java提供了多种复合赋值运算符：

| 运算符 | 示例       | 等价于        |
| :----- | :--------- | :------------ |
| `+=`   | `a += b`   | `a = a + b`   |
| `-=`   | `a -= b`   | `a = a - b`   |
| `*=`   | `a *= b`   | `a = a * b`   |
| `/=`   | `a /= b`   | `a = a / b`   |
| `%=`   | `a %= b`   | `a = a % b`   |
| `<<=`  | `a <<= b`  | `a = a << b`  |
| `>>=`  | `a >>= b`  | `a = a >> b`  |
| `>>>=` | `a >>>= b` | `a = a >>> b` |
| `&=`   | `a &= b`   | `a = a & b`   |
| `\|=`  | `a \|= b`  | `a = a \| b`  |
| `^=`   | `a ^= b`   | `a = a ^ b`   |

### 7.3 复合赋值运算符的特性

复合赋值运算符会自动处理类型转换。例如：

```java
byte b = 5;
b = b + 1; // 编译错误（int不能直接赋值给byte）
b += 1; // 正确（复合赋值运算符自动强制转换）
```

## 8. 条件运算符

条件运算符（三元运算符）的格式：`条件 ? 表达式1 : 表达式2`

执行顺序：若条件的值为 `true`，则整个表达式的值为表达式1的值；若条件的值为 `false`，则整个表达式的值为表达式 2 的值。

示例：

```java
int min;
int x = 4;
int y = 20;
min = (x < y) ? x : y; // min = 4
```

条件运算符是 Java 中唯一的三目运算符，可以用于简化简单的 if-else 逻辑，但嵌套过深会降低可读性。

## 9. 其他运算符

### 9.1 字符串连接运算符

`+`运算符在 Java 中可用于字符串连接：

```java
System.out.println(10 + 20); // 30
System.out.println(10 + 20 + "30"); // "3030"
System.out.println(10 + (20 + "30")); // "102030"
```

规则：

- `+`两边的数据都是数字时，进行加法运算
- `+`两边的数据只要有一个是字符串，进行字符串连接运算
- 连接运算之后的结果还是一个字符串类型

### 9.2 instanceof 运算符

instanceof 运算符用于检查对象是否属于某个类或其子类：

```java
String s = "Hello";
System.out.println(s instanceof String); // true
```

## 10. 运算符优先级

运算符优先级决定了表达式中运算的执行顺序。

### 10.1 优先级顺序

Java 运算符优先级从高到低如下：

| 优先级 | 运算符                                | 结合性  |
| :----- | :------------------------------------ | :------ |
| 1      | `()`、`[]`、`.`（方法调用和成员访问） | 左 → 右 |
| 2      | `!`、`~`、`++`、`--`（一元运算符）    | 右 → 左 |
| 3      | `*`、`/`、`%`                         | 左 → 右 |
| 4      | `+`、`-`                              | 左 → 右 |
| 5      | `<<`、`>>`、`>>>`                     | 左 → 右 |
| 6      | `<`、`<=`、`>`、`>=`、`instanceof`    | 左 → 右 |
| 7      | `==`、`!=`                            | 左 → 右 |
| 8      | `&`                                   | 左 → 右 |
| 9      | `^`                                   | 左 → 右 |
| 10     | `\|`                                  | 左 → 右 |
| 11     | `&&`                                  | 左 → 右 |
| 12     | `\|\|`                                | 左 → 右 |
| 13     | `?:`（三元运算符）                    | 右 → 左 |
| 14     | `=`、`+=`、`-=`、`*=`、`/=`、`%=` 等  | 右 → 左 |

### 10.2 优先级示例

```java
int result = 5 + 3 * 2; // 3*2=6 → 5+6=11（乘法优先级高于加法）
boolean flag = 10 > 5 && 3 < 2; // 10>5为true，但3<2为false → 最终false
```

### 10.3 使用括号改变优先级

括号`()`具有最高优先级，可以用于改变表达式的计算顺序：

```java
int result1 = 2 + 3 * 4; // 14（乘法优先）
int result2 = (2 + 3) * 4; // 20（括号优先）
```

## 11. 类型转换规则

在运算过程中，Java 会自动进行类型转换。

### 11.1 自动类型提升

当表达式中包含不同类型时，低精度类型自动提升为高精度类型：

```java
byte b = 10;
int i = 20;
double d = 30.5;

double result = b + i + d; // byte和int自动提升为double
```

规则：`byte → short → int → long → float → double`

### 11.2 强制类型转换

当需要将高精度类型转换为低精度类型时，需要使用强制类型转换：

```java
double d = 9.95;
int i = (int) d; // i = 9（直接截断小数部分）
```

注意：强制类型转换可能会导致数据丢失或精度降低。

## 12. 特殊值处理

在数学运算中，需要注意一些特殊值的处理：

```java
System.out.println(0.0 / 0.0); // NaN（Not a Number）
System.out.println(5.0 / 0.0); // Infinity
System.out.println(-5.0 / 0.0); // -Infinity

// 检测NaN
double result = Math.sqrt(-1);
System.out.println(Double.isNaN(result)); // true
```

## 13. 综合示例

下面是一个综合示例，演示各种运算符的使用：

```java
public class OperatorExample {
    public static void main(String[] args) {
        // 算术运算符
        int a = 10, b = 20;
        System.out.println("a + b = " + (a + b)); // 加法
        System.out.println("a - b = " + (a - b)); // 减法
        System.out.println("a * b = " + (a * b)); // 乘法
        System.out.println("b / a = " + (b / a)); // 除法
        System.out.println("b % a = " + (b % a)); // 取模

        // 关系运算符
        System.out.println("a == b: " + (a == b)); // 等于
        System.out.println("a != b: " + (a != b)); // 不等于
        System.out.println("a > b: " + (a > b)); // 大于
        System.out.println("a < b: " + (a < b)); // 小于

        // 逻辑运算符
        boolean x = true, y = false;
        System.out.println("x && y: " + (x && y)); // 与
        System.out.println("x || y: " + (x || y)); // 或
        System.out.println("!x: " + (!x)); // 非

        // 赋值运算符
        int result = a;
        result += b; // 等同于 result = result + b
        System.out.println("result += b: " + result);

        // 位运算符
        int c = 5; // 0101
        int d = 3; // 0011
        System.out.println("c & d: " + (c & d)); // 按位与
        System.out.println("c | d: " + (c | d)); // 按位或
        System.out.println("c ^ d: " + (c ^ d)); // 按位异或
        System.out.println("c << 1: " + (c << 1)); // 左移
        System.out.println("c >> 1: " + (c >> 1)); // 右移

        // 条件运算符
        int score = 85;
        String resultStr = score >= 60 ? "及格" : "不及格";
        System.out.println("成绩结果: " + resultStr);
    }
}
```

## 14. 总结与最佳实践

1. **使用括号明确优先级**：不要过度依赖默认优先级，使用括号使表达式更清晰
2. **注意整数除法**：两个整数相除会丢弃小数部分，如需精确结果应使用浮点数
3. **利用短路特性优化代码**：使用`&&`和`||`避免不必要的计算
4. **理解复合赋值运算符的类型转换**：复合赋值运算符会自动进行类型转换
5. **避免浮点数相等比较**：由于精度问题，应使用阈值比较浮点数相等
6. **注意自增/自减的前后区别**：前缀形式先运算后取值，后缀形式先取值后运算

运算符是 Java 编程的基础，掌握各种运算符的特性和优先级，对于编写正确、高效的代码至关重要。在实际开发中，应根据具体需求合理使用运算符，并注意运算符的优先级和结合性，以确保程序的正确性和效率。
